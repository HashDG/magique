<HTML>

<HEAD>
<TITLE>MPL: Magique Platform Launcher</TITLE>
</HEAD>

<BODY BGCOLOR="white">
<CENTER>
<H1>MPL, Magique Platform Launcher</H1>
</CENTER>
<P>
<B>MPL</B> est un <em>daemon</em> Unix, entièrement écrit en C, permettant de gérer,
<em>via</em> le réseau, des plateformes Magique. 
<P>
Ses principales fonctions sont de permettre le lancement et l'arrêt des plateformes
Magique. Son rôle au sein du projet <B>RAGE</B> apparaît au niveau de l'agent
administrateur, qui se sert de ces services. 
<P>

<H1>Protocole</H1>
<H3>Format</H3>
Les commandes reçues par <B>MPL</B> doivent respectées le format suivant:
<P>
<CENTER>
<I>corps</I> <code>\r</code> <code>\n</code>
</CENTER>
<P>
Notez bien les deux caractères <code>\r</code> et <code>\n</code> qui <B>doivent</B>
terminées la commande. Le corps de la commande est quant à lui constitué de lettres,
de chiffres et du caractère espace appartenant au jeu de caractères ASCII. 
 
<H3>Description</H3>
Les différentes commandes acceptées par <B>MPL</B> sont décrites dans le tableau
qui suit:
<P>
<CENTER>
<TABLE BORDER="0">
<TR ALIGN=CENTER BGCOLOR="#0000AA">
 <TD><FONT COLOR="#00AAFF">Commande</FONT></TD>
 <TD><FONT COLOR="#00AAFF">Réponse <B>MPL</B></FONT></TD>
 <TD><FONT COLOR="#00AAFF">Action <B>MPL</B></FONT></TD>
</TR>
<TR>
 <TD>PING</TD>
 <TD>READY</TD>
 <TD>-</TD>
</TR>
<TR>
 <TD>BYE</TD>
 <TD>BYE</TD>
 <TD>Ferme la connection avec le client</TD>
</TR>
<TR>
 <TD>START [port]</TD>
 <TD>OK ou ERROR</TD>
 <TD>Lance une nouvelle plateforme dont le port RMI est <code>port</code></TD>
</TR>
<TR>
 <TD>STOP port</TD>
 <TD>OK ou ERROR</TD>
 <TD>Arrête la plateforme dont le port RMI est <code>port</code></TD>
</TR>
<TR>
 <TD>DIE</TD>
 <TD>DEAD</TD>
 <TD>Stoppe toutes les plateformes et arrête <B>MPL</B></TD>
</TR>
</TABLE>
</CENTER>
<P>
<B><U>Notes:</U></B>
<P>
<UL>
<LI>Le port de la commande <code>START</code> est optionnel. S'il est omis la valeur
par défaut est 4444.</LI>
<LI>La commande <code>DIE</code> provoque l'arrêt inconditionnel des plateformes
couramment lancées sur la machine. Pour cela, <B>MPL</B> envoie un message d'arrêt
à la plateforme, puis déclenche un chien de garde à la fin duquel un signal 
<code>SIGKILL</code> sera envoyé. Le délai d'attente par défaut est de 3 secondes
mais peut être modifié par une option de la ligne de commande.</LI>
</BODY>
</HTML>

