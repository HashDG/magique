<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.73 [fr] (X11; I; Linux 2.2.17 i686) [Netscape]">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EF" vlink="#51188E" alink="#FF0000">

<center><b><font face="Arial,Helvetica"><font color="#666666"><font size=+3>Ane
rouge</font></font></font></b>
<p>
<hr SIZE=4 NOSHADE WIDTH="100%"></center>

<p><b><font face="Arial,Helvetica"><font color="#666666"><font size=+3>Introduction.</font></font></font></b>
<p>L'int&eacute;r&ecirc;t de cet exemple est qu'il se compose de deux phases
distinctes. La premi&egrave;re phase calcule un ensemble d'&eacute;tats
et teste leur validit&eacute;. Elle permet en outre d'&eacute;liminer un
grand nombre d'&eacute;tats invalides et donc de soulager la seconde phase
qui consiste en le calcul de graphes dont les &eacute;tats de d&eacute;parts
sont pris parmi les &eacute;tats valides calcul&eacute;s &agrave; l'&eacute;tape
pr&eacute;c&eacute;dente. De plus, on cherche &agrave; optimiser la charge
en arr&ecirc;tant les t&acirc;ches qui se r&eacute;v&eacute;lent inutiles
au fur et &agrave; mesure que le calcul des graphes avance.
<p><b><font face="Arial,Helvetica"><font color="#666666"><font size=+3>Description.</font></font></font></b>
<p>L'image ci-dessous est un exemple de plateau de jeu de l'&acirc;ne rouge:
<center><img SRC="board_desc.gif" ALT="Board description" NOSAVE height=239 width=281></center>

<p>Pour d&eacute;crire une position particuli&egrave;re du jeu, nous commen&ccedil;ons
par &eacute;tiquetter chaque pi&egrave;ce par une lettre, par exemple:
<center>
<p><img SRC="board_letters.gif" ALT="Letters" height=239 width=199></center>

<p>Si nous lisons les lettres en partant du coin gauche sup&eacute;rieur
jusqu'au coin droit inf&eacute;rieur, nous obtenons un mot codant cette
position : "abacdcaeeaee". Ce codage est pratique puisqu'il nous permettra
de g&eacute;n&eacute;rer facilement toutes les positions possibles par
permutation lexicographique. Cependant, parmi ces positions se trouveront
des doublons (puisqu'il existe des pi&egrave;ces identiques) et des positions
invalides (ne pouvant tenir dans le plateau).
<p><b><font face="Arial,Helvetica"><font color="#666666"><font size=+1>1.
Phase 1.</font></font></font></b>
<p>La premi&egrave;re phase consiste &agrave; calculer la totalit&eacute;
des &eacute;tats valides &agrave; partir desquels on calculera l'ensemble
des graphes. Cet ensemble d'&eacute;tats ne doit donc pas contenir de doublons.
On fournit donc deux bornes &agrave; chaque t&acirc;che. Celles-ci correspondent
au rang inf&eacute;rieur et sup&eacute;rieur des permutations &agrave;
tester. La t&acirc;che g&eacute;n&eacute;re donc les permutations, v&eacute;rifie
qu'elle consiste en une disposition valide (<i>i.e.</i> qui tient dans
le plateau) puis, si elle n'est pas d&eacute;j&agrave; connue, l'ajoute
&agrave; son ensemble de positions valides. L'ensemble des positions est
ensuite r&eacute;cup&eacute;r&eacute; au niveau du <i>manager</i>. On remarquera
que, les t&acirc;ches ne testant qu'un nombre restreint de permutations,
il restera des doublons parmi les &eacute;tats valides calcul&eacute;s
par des t&acirc;ches diff&eacute;rentes. Le
<i>manager</i> devra donc &eacute;liminer
ces doublons.
<center>
<p><img SRC="phase1.1.gif" ALT="phase1.1" height=205 width=385>
<br><font size=-1><u>Phase 1.1</u>: chaque t&acirc;che teste toutes les
positions qui lui sont affect&eacute;e. Elle &eacute;limine les doublons
et les positions invalides.</font>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p><img SRC="phase1.2.gif" ALT="phase 1.2" height=189 width=380>
<br><font size=-1><u>Phase 1.2:</u> les r&eacute;sultats sont envoy&eacute;s
au <i>ResultRepository</i>. Il reste cependant des doublons.</font>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p><img SRC="phase1.3.gif" ALT="phase 1.3" height=189 width=380>
<br><font size=-1><u>Phase 1.3:</u> le <i>manager</i> r&eacute;cup&egrave;re
les r&eacute;sultats et &eacute;limine les doublons restants.</font></center>

<p>Cette phase permet d'&eacute;liminer un grand nombre d'&eacute;tats
&agrave; tester. Prenons l'exemple du mot "abacdcaeeaee". Contenant 12
pi&egrave;ces, nous pouvons g&eacute;n&eacute;rer 12! = 479 001 600 permutations.
En &eacute;liminant les doublons, le nombre de positions valides tombe
&agrave;&nbsp; (12!)/(4! x 2! x 4 !) = 415 800 soit environ 10 fois moins.
En &eacute;liminant encore les positions invalides, c'est &agrave; dire
ne pouvant tenir dans le plateau, le nombre atteint approximativement 115
000 &eacute;tats. Soit finalement environ 4000 fois moins d'&eacute;tats
&agrave; tester.
<p><b><font face="Arial,Helvetica"><font color="#666666"><font size=+1>2.
Phase 2.</font></font></font></b>
<p>La seconde phase consiste en la g&eacute;n&eacute;ration des graphes.
La premi&egrave;re phase a permis d'&eacute;liminer un grand nombre d'&eacute;tats.
Les &eacute;tats restants sont distribu&eacute;s aux t&acirc;ches. Chaque
t&acirc;che re&ccedil;oit un &eacute;tat de d&eacute;part, puis calcule
le graphe des &eacute;tats pouvant &ecirc;tre atteints. Le graphe r&eacute;sultat
est stock&eacute; dans le <i>RepositoryManager</i>.
<br>Lorsqu'un nouveau graphe est stock&eacute;, le <tt>TaskManager</tt>
examine tous les &eacute;tats qu'il contient ce qu'il lui permet d'arr&ecirc;ter
les t&acirc;ches dont l'&eacute;tat de d&eacute;part a &eacute;t&eacute;
visit&eacute; lors du calcul d'un autre graphe.
<br>&nbsp;
<br>&nbsp;
</body>
</html>
